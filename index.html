<!DOCTYPE html>
<html>
	<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	</head>
	<link rel="stylesheet" href="dialogr.css"></html>
	<script src="dialogr.js"></script>
	<script type="text/javascript">


	function demoDialog_fieldTest() {
		dialogr.open({
			width : 600, height : 450,
			title : "Bound fields",
			buttons : {
				"OK" :  {
					close : true,
					updateFields : true,
				},
				"Cancel" : false // And this will just close the dialog
			},
			args : {"normal argument":"and its value"},

			fieldArgs : {
				boundArgument : '#tbxName'
			},
			url : "frame_fieldtest.html?",

			"pong" : function() {
				dialogr.ping()
			}
		});
	}

	var name = "";

	function newDemo() {

		dialogr.open('frame_content.html', {
			//buttons : ["hej", "ost", "lakrits"]
			width : '500px',
			height : 90,
			minWidth : 100,
			param : {
				name : name
			},
			fields : 
			{
				"fieldone" : document.getElementById('somefield')
			},
			buttons : null
		})

		// You can send custom events from the dialog and handle them here
		.on('update_name', function(newName) {

			var deferred = dialogr.deferred();

			//setTimeout(function() {
				deferred.resolve(newName);
				name = newName;
				document.getElementById('name').innerText = newName
		//	}, 1000);

			return deferred.promise();
		});

	}

	function newDemo2() {

		dialogr.open('frame2_content.html', {
			//buttons : ["hej", "ost", "lakrits"]
			className : 'dialogr2',
			width : '600px',
			height : '480px',
			maxWidth : 400,
			title : "Blog Post Tags",
			buttons : {
				"save" : { text : "Save" },
				"discard" : {text : "Cancel"},
				"apply" : { text : "Apply", disabled : true }
			}
		});
	}

	function demoDialog() {
		dialogr.open({
			url : 'frame_content.html',
			width : "700px",
			height : "300px",
			args : {
				"arguments" : "can easily be sent to an iframe "
			}
		});

	}

	</script>
	<style type="text/css">
	body {
		background-color: whitesmoke;margin:0;padding:0;
		font-family: helvetica,sans-serif;
	}
		.wrapper, .hero h1, .header h2 {
			max-width: 800px;
			margin: 0 auto;

		}
		.header {
			background-color: #eaeaea;
			padding: 24px;
		}
		.hero {
			font-family: arial;
			background-color: #3e3e3e;
			color: #fff;
			font-size: 2em;
			line-height: 4em;
		}
		.hero h1 span {
			color:#47639e  ;
		}
		h2 {

		}
		p {
			font-size: 1.1em;
		}
	</style>
<body>

	<div class="hero">
		<h1>Dialog<span>r</span></h1>
	</div>
	<div class="header">
		<h2>Introduction</h2>
	</div>

	<div class="wrapper">
		<ol>
			<li><a href="javascript:newDemo()">Simple form dialog</a> to set a variable value (<span id="name"></span>) </li>
			<li><a href="javascript:newDemo2()">Dialog with buttons</a> </li>
		</ol>
	</div>

	<div class="wrapper">
	<p>Dialogr is a scaled down <strong>editors dialog</strong>.</p>
	<p><strong>As an</strong> editor<br /><strong>I wanted</strong> to open a dialog for a more advanced way to manage tags for a page<br /><strong>so that</strong> I have a clean and stylish page and also advanced tag management abilities - that's why Dialogr was created.</p>
	<hr />
	<p>As a developer I sometimes need to edit advanced data in a hidden field.
	The easiest way is sometimes to open an external page with a more advanced editor in a dialog.
	Dialogr is my attempt to create a small utility library to let me do just this.</p>
	<ol>
		<li>Easy to pass parameters to the dialog frame
			<ol>
				<li>Bind form elements automatically</li>
			</ol>
		</li>
		<li>Easy to return values to the opening page
			<ol>
				<li>Update form element values automatically</li>
			</ol>
		</li>
		<li>Responsive
		<ol>
			<li>You can define a dialog size</li>
			<li>Dialogs will become fulls screen when window is smaller</li>
		</ol></li>
		<li>One dialog open at a time</li>
	</ol>

	<pre>&lt;script&gt;
dialogr.open({
 url : 'frame_content.html',
 width : "700px", height : "300px",
 args : {
  "arguments" : "can easily be sent to an iframe "
 }
});
&lt;/script&gt;</pre>
	<p>
		<a href="javascript:demoDialog();">Launch example</a>
	</p>
			</div>
	<div class="header">
		<h2>Bound fields</h2>
	</div>
	<div class="wrapper">

	
	<p>You can automatically connect fields as arguments using fieldArgs.</p>
	<pre>dialogr.open({
 fieldArgs : {
  boundArgument' : '#tbxName'
})</pre>
	<p>
		<a href="javascript:demoDialog_fieldTest();">field test</a> 
		<input type="text" id="tbxName" value="A text field" />
		
	</p>

</div>
</body>
</html>