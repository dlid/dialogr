<!DOCTYPE html>
<html>
<head>
	<title>dialogr 04 - basic name input disable buttons</title>
	<link href='../css/example_base.css' rel='stylesheet' type='text/css'>
	<link href='../css/dialogr.css' rel='stylesheet' type='text/css'>
	<script src="../../build/dialogr.js"></script>
	<script src="../js/example_base.js"></script>
	<script type="text/javascript">
		var first = true;

		function openNameDialog() {

			var nameDisplay = document.getElementById('nameDisplay'),
				parameters = {
					name : first ? "" : nameDisplay.innerText
				};

			var dd = dialogr.open("name-input.html", parameters, {
				buttons : [
					{name : "new", text : "Open default dialog"},
					{name : "ok", text : "A custom OK-text"}
				],
				width : '500px'
			})
			.on('button_new', function() {
				// Aha, someone clicked on our extra button
				dialogr.open("name-input.html").done(function(r) {
					alert("You entered " + r);
					nameDisplay.innerText = r;
					first = false;
					dd.close();
				});
			})
			.done(function(result) {

				// The dialog returned a successful result
				nameDisplay.innerText = result;

				first = false;
			});

		}

	</script>
</head>
<body>
	<div class="example">
	<h1>03 - Name Input and enabling/disabling dialog buttons</h1>

		<p>In this basic example a dialog will open when you click the link below.</p>
		<p>The result of the dialog will be retreived and the link is updated with the resulting text from the dialog.</p>

		<ul>
			<li>We override the buttons when we open the dialog to change the text. Note that the buttons ids still must be the same or the dialog will listen for the wrong events.</li>
			<li>We also override the width of the dialog so it is 500px</li>
		</ul>

	</div>

	<p>Hi <a id="nameDisplay" href="javascript:openNameDialog()">[click to set name]</a></p>

</body>