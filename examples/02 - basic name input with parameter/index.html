<!DOCTYPE html>
<html>
<head>
	<title>dialogr 01 - basic name input</title>
	<link href='../css/example_base.css' rel='stylesheet' type='text/css'>
	<link href='../css/dialogr.css' rel='stylesheet' type='text/css'>
	<script src="../../build/dialogr.js"></script>
	<script src="../js/example_base.js"></script>
	<script type="text/javascript">
		var first = true;

		function openNameDialog() {

			var nameDisplay = document.getElementById('nameDisplay'),
				parameters = {
					name : first ? "" : nameDisplay.innerText
				};

			

			dialogr.open("name-input.html", parameters)	
				.done(function(result) {

					// The dialog returned a successful result
					nameDisplay.innerText = result;

					first = false;
				})
				.fail(function() {
					alert("Cancel was pressed")
				});


		}

	</script>
</head>
<body>
	<div class="example">
	<h1>02 - Name Input with Parameters example</h1>

		<p>In this basic example a dialog will open when you click the link below.</p>
		<p>The result of the dialog will be retreived and the link is updated with the resulting text from the dialog.</p>

		<ul>

		<li>Now we also pass the name as a parameter if it has been set before</li>
		<li>We also updated the dialog to recognize Enter keystrokes</li>
		<li>Pressing "Cancel" will trigger the "fail" callback since we now use reject inside the dialog</li>
		</ul>

	</div>

	<p>Hi <a id="nameDisplay" href="javascript:openNameDialog()">[click to set name]</a></p>

</body>